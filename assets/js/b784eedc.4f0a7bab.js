"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[3316],{3905:(t,e,n)=>{n.d(e,{Zo:()=>p,kt:()=>f});var r=n(7294);function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function i(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}var s=r.createContext({}),l=function(t){var e=r.useContext(s),n=e;return t&&(n="function"==typeof t?t(e):c(c({},e),t)),n},p=function(t){var e=l(t.components);return r.createElement(s.Provider,{value:e},t.children)},u="mdxType",d={inlineCode:"code",wrapper:function(t){var e=t.children;return r.createElement(r.Fragment,{},e)}},m=r.forwardRef((function(t,e){var n=t.components,a=t.mdxType,o=t.originalType,s=t.parentName,p=i(t,["components","mdxType","originalType","parentName"]),u=l(n),m=a,f=u["".concat(s,".").concat(m)]||u[m]||d[m]||o;return n?r.createElement(f,c(c({ref:e},p),{},{components:n})):r.createElement(f,c({ref:e},p))}));function f(t,e){var n=arguments,a=e&&e.mdxType;if("string"==typeof t||a){var o=n.length,c=new Array(o);c[0]=m;var i={};for(var s in e)hasOwnProperty.call(e,s)&&(i[s]=e[s]);i.originalType=t,i[u]="string"==typeof t?t:a,c[1]=i;for(var l=2;l<o;l++)c[l]=n[l];return r.createElement.apply(null,c)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},9048:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>s,contentTitle:()=>c,default:()=>d,frontMatter:()=>o,metadata:()=>i,toc:()=>l});var r=n(7462),a=(n(7294),n(3905));const o={},c="Contracts",i={unversionedId:"lang/contracts",id:"lang/contracts",title:"Contracts",description:"Contracts are the primary logical units of a CWScript project, and are defined similarly to classes in object-oriented programming languages.",source:"@site/docs/lang/contracts.mdx",sourceDirName:"lang",slug:"/lang/contracts",permalink:"/docs/lang/contracts",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/lang/contracts.mdx",tags:[],version:"current",frontMatter:{},sidebar:"langSidebar",previous:{title:"Context Variables",permalink:"/docs/lang/context-vars"},next:{title:"Errors",permalink:"/docs/lang/errors"}},s={},l=[{value:"Syntax",id:"syntax",level:2}],p={toc:l},u="wrapper";function d(t){let{components:e,...n}=t;return(0,a.kt)(u,(0,r.Z)({},p,n,{components:e,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"contracts"},"Contracts"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Contracts")," are the primary logical units of a CWScript project, and are defined similarly to classes in object-oriented programming languages."),(0,a.kt)("p",null,"A contract definition comprises the following sections:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"state")," - variables that are persisted as the contract's state"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"instantiate")," - logic that defines how the contract is initialized upon instantiation"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"exec")," - state-mutating functions that can be called to interact with the contract in a transaction"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"query")," - read-only functions that can be called to query the state of the contract")),(0,a.kt)("p",null,"Contracts are also namespaces, so they can contain static definitions for custom types and functions which can be referenced in other code. Usually, contracts will include definitions for custom ",(0,a.kt)("strong",{parentName:"p"},"errors")," and ",(0,a.kt)("strong",{parentName:"p"},"events")," used by the contract."),(0,a.kt)("h2",{id:"syntax"},"Syntax"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-cwscript"},"contract MyToken // required: contract name\n    extends BaseContract // optional: inherited base contract\n    implements CW2, CW20 // optional: implemented contract interfaces\n{\n\n  error InsufficientBalance() // optional: custom error type\n\n  event Transfer(sender: Address, recipient: Address, amount: Uint) // optional: custom event type\n\n  state {\n    singleton: Bool // item\n    balances[Address]: Uint = 0 // map\n  }\n\n  #instantiate() {\n    // ...\n  }\n\n  exec #transfer(to: Address, amount: Uint) {\n    // ...\n  }\n\n  query #balance(addr: Address) -> Uint {\n    // ...\n  }\n}\n")))}d.isMDXComponent=!0}}]);